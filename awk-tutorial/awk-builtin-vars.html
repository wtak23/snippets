

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.4. AWK Built-in Variables &mdash; Snippets 1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon-penn.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Snippets 1 documentation" href="../index.html"/>
        <link rel="up" title="6. awk-tutorial" href="index.html"/>
        <link rel="next" title="Miscellaneous" href="../top-misc.html"/>
        <link rel="prev" title="6.3. Summary of AWK Commands" href="awk-summary-commands.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Snippets
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../top-python.html">Python-type</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cs-python.html">1. Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#random-stack-overflow-questions">1.1. Random Stack-overflow questions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#find-first-occurence-in-a-list">1.1.1. Find first occurence in a list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#when-plt-tight-layout-doesn-t-work-as-expected">1.1.2. When plt.tight_layout doesn&#8217;t work as expected</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#swap-2-items-in-a-list">1.1.3. Swap 2 items in a list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#check-all-items-in-list-or-dict-is-equal">1.1.4. Check all items in list or dict is equal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#disk-io">1.2. Disk IO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#write-list-items-to-text">1.2.1. Write list items to text</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#seaborn-and-pandas-plots">1.3. Seaborn and Pandas plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#mpl-and-sns">1.3.1. mpl and sns?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#color-palette">1.3.2. Color palette</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#python-commands-from-shell">1.4. Python commands from shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#matplotlib-styling">1.5. Matplotlib styling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#default-color-cycle">1.5.1. Default color cycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#colormap-helper">1.5.2. Colormap helper</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#installing-modules">1.6. installing modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#gochtas">1.7. gochtas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#careful-with-array-slicing-may-change-array-values">1.7.1. careful with array slicing! may change array values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#decorator">1.8. decorator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#plotting-short-snippets">1.9. Plotting - short snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#cool-tricks">1.9.1. Cool tricks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-python.html#plotting-snippets">1.9.2. Plotting Snippets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#exceptions">1.10. Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-python.html#clever-tricks">1.11. Clever tricks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-pyspark.html">2. pyspark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-pyspark.html#stack-overflows">2.1. Stack overflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#numpy-array-to-spark-dataframe-trickier-than-i-thought">2.1.1. numpy array to spark dataframe...trickier than i thought...</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#adding-new-columns-to-spark-dataframes">2.1.2. Adding new columns to Spark DataFrames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-pyspark.html#handy-snippets">2.2. Handy snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#todo-run-this-script">2.2.1. Todo: run this script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#bunch-of-example-scripts">2.2.2. Bunch of example scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#use-of-persist-rdd-persistence">2.2.3. Use of persist (RDD persistence)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-pyspark.html#sql-in-pyspark">2.3. SQL in pyspark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-pyspark.html#spark-sql-dataframes-and-datasets-guide">2.4. Spark SQL, DataFrames and Datasets Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#dataframes">2.4.1. DataFrames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#inter-operating-rdd-dataframes">2.4.2. Inter-operating RDD &amp; DataFrames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#data-sources">2.4.3. Data Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#saving-to-persistent-tables">2.4.4. Saving to Persistent Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-pyspark.html#programming-guide-condensed-summary">2.5. Programming-guide: condensed summary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#super-basics">2.5.1. Super basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#shared-variables">2.5.2. Shared variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#rdd-operations">2.5.3. RDD operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-pyspark.html#random-handy-snippets">2.6. Random handy snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-pyspark.html#compute-average">2.6.1. compute average</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-py-jupyter-notebook.html">3. python-jupyter-notebook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-py-jupyter-notebook.html#ipython-notebook-defaults">3.1. Ipython notebook defaults</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-py-jupyter-notebook.html#frequently-used-config">3.1.1. Frequently used config</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-py-jupyter-notebook.html#widgets">3.2. widgets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-py-jupyter-notebook.html#all-widget-types">3.2.1. All widget types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-py-jupyter-notebook.html#current-config">3.3. Current config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bct.html">4. Brain Connectivity Toolbox</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../generated/bct.algorithms.html">4.1. bct.algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/bct.algorithms.html#functions">4.1.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/bct.algorithms.html#exceptions">4.1.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../generated/bct.utils.html">4.2. bct.utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/bct.utils.html#functions">4.2.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/bct.utils.html#exceptions">4.2.2. Exceptions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../generated/bct.nbs.html">4.3. bct.nbs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../generated/bct.nbs.html#functions">4.3.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../generated/bct.nbs.html#exceptions">4.3.2. Exceptions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../top-datascience.html">Data Science</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cs-R.html">1. R</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-R.html#snippets-in-rstudio">1.1. Snippets in RStudio</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-R.html#current-content-in-r-snippets">1.1.1. Current content in <code class="docutils literal"><span class="pre">r.snippets</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-R.html#todo-break-these-down-to-smaller-pieces">1.2. TODO: break these down to smaller pieces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-sql.html">2. sql</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-sql.html#style-guidelines-conventions">2.1. Style guidelines, conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sql.html#basic-commands-keywords">2.2. Basic commands/keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sql.html#sql-zoo">2.3. sql-zoo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-sql.html#select-basics">2.3.1. SELECT basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-sql.html#math-functions">2.3.2. math functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sql.html#different-rdbms">2.4. different RDBMS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-perl-oneliners.html">3. perl one-liners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#perl-help-refresher-on-command-line-options">3.1. $ perl &#8211;help (refresher on command line options)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#file-spacing">3.2. FILE SPACING</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#line-numbering">3.3. LINE NUMBERING</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#calculations">3.4. CALCULATIONS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#string-creation-and-array-creation">3.5. STRING CREATION AND ARRAY CREATION</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#text-conversion-and-substitution">3.6. TEXT CONVERSION AND SUBSTITUTION</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#selective-printing-and-deleting-of-certain-lines">3.7. SELECTIVE PRINTING AND DELETING OF CERTAIN LINES</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#handy-regular-expressions">3.8. HANDY REGULAR EXPRESSIONS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#perl-tricks">3.9. PERL TRICKS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-perl-oneliners.html#perl-one-liners-explained-e-book">3.10. PERL ONE-LINERS EXPLAINED E-BOOK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-regexp.html">4. regular expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-regexp.html#overflows">4.1. Overflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#use-perl-engine-in-bash">4.1.1. Use Perl engine in bash</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#negate-specific-word">4.1.2. Negate specific word?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-regexp.html#sublimetext">4.2. Sublimetext</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-regexp.html#regular-expression-regexp-for-python">4.3. Regular expression (regexp) for python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#basic-functions-modules">4.3.1. Basic functions/modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#splitting-strings">4.3.2. Splitting strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#search-and-replace-with-sub">4.3.3. Search and replace with sub</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#compilation-flags">4.3.4. Compilation flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#greedy-vs-nongreedy">4.3.5. Greedy vs nongreedy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#improve-readibility-with-re-verbose-flag">4.3.6. Improve readibility with re.Verbose flag</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#named-groups">4.3.7. Named groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#lookahed-assertions">4.3.8. Lookahed assertions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-regexp.html#bunch-of-examples">4.3.9. Bunch of examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-scala.html">5. Scala</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-scala.html#random-overflow-threads">5.1. Random overflow threads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-scala.html#linear-algebra-in-scala">5.2. Linear algebra in scala?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-scala.html#scala-lab">5.3. scala-lab?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../top-bash.html">Bash-type</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cs-bash-commands.html">1. bash-commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#io-redirection">1.1. IO Redirection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#output-stdout-and-stderr-to-terminal-and-logfile">1.1.1. Output stdout and stderr to terminal and logfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#syntax-reference">1.1.2. syntax reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#overflows">1.2. Overflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#display-function-names">1.2.1. Display function names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#get-n-th-line-of-output-used-sed">1.2.2. get n-th line of output (used sed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#quotes-with-grep">1.2.3. Quotes with grep</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#escaping-single-quotes-a-mess">1.3. Escaping single quotes (a mess...)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#using-rename-command">1.4. Using rename command</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#rename-files-with-suffix-or-prefix">1.4.1. Rename files with suffix or prefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#regexp-syntax-with-rename">1.4.2. regexp syntax with rename</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#random-handy-snippets">1.5. Random handy snippets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#replace-whitespace-with-newline-in-sed">1.6. replace whitespace with newline in sed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#what-if-multiple-line-is-spanned">1.6.1. What if multiple line is spanned?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#check-running-processes">1.7. check running processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#nohup-vs-disown-vs">1.8. nohup vs disown vs &amp;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#moving-and-copying">1.9. Moving and copying</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#scp-user">1.9.1. scp user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#rsync">1.9.2. rsync</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#find">1.10. find</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#note-find-vs-locate">1.10.1. Note: <strong>find</strong> vs <strong>locate</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#command-vs-command-use-latter">1.11. ``command`` vs $(command) (use latter)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#ls-tricks">1.12. ls tricks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#ls-recursively-use-find">1.12.1. ls recursively (use <em>find</em>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#show-only-symbolic-links-alias-ls-sym">1.12.2. show only symbolic links (<strong>alias ls_sym</strong>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#print-timestamp">1.13. print timestamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#open-image-xdg-open-image-png">1.14. open image ($xdg-open image.png)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#options-with-less-ongoing">1.15. Options with <strong>less</strong> (ongoing)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#history-w-o-line-numbers">1.16. history w/o line-numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#when-xargs-is-needed">1.17. When xargs is needed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#get-computer-info">1.18. Get computer info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#mogrify">1.19. mogrify</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#pipe-dreams-xargs-exec-in-find">1.20. Pipe dreams (xargs, -exec in find)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#grep">1.21. Grep</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#grep-recursively">1.21.1. grep recursively</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#to-grep-a-string-pipe-output-of-echo">1.21.2. To grep a string, pipe output of echo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#d-not-supported-in-linux-grep-as-default-seems-like">1.21.3. <code class="docutils literal"><span class="pre">\d</span></code> not supported in linux grep as default...seems like</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#just-use-double-quotes-for-regex-query">1.21.4. just use double-quotes for regex query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#selecting-n-th-line-or-word-using-sed-and-awk">1.22. Selecting n-th line or word using sed and awk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#use-xargs-to-execute-a-command-once-per-line-of-piped-input">1.23. Use xargs to execute a command once per line of piped input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#run-same-command-multiple-times-for-loop">1.24. Run same command multiple times (for loop)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#git">1.25. git</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-commands.html#change-author-name">1.25.1. change author name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-commands.html#clipboard-with-xclip">1.26. clipboard with xclip</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-bash-scripts.html">2. bash-scripts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#overflow-topics">2.1. Overflow topics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-scripts.html#check-file-existance">2.1.1. Check file existance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#simple-loop-for-python">2.2. Simple loop for python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#qsub">2.3. qsub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-scripts.html#my-old-qsub-approach">2.3.1. my old qsub approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-scripts.html#qsub-run">2.3.2. qsub-run</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#place-exit-1-to-end-script">2.4. place exit 1 to end script</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#style-guide-and-conventions">2.5. Style-guide and conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#arrays">2.6. arrays</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-scripts.html#expanding-indices">2.6.1. Expanding indices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-bash-scripts.html#practical-example">2.6.2. practical example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#control-rsync-recursive-depth">2.7. control rsync recursive depth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#skip-scp-if-file-exist-tldr-use-rsync">2.8. skip scp if file exist (tldr - use rsync</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#rsync-symlinks">2.9. rsync symlinks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#appending-concatenating-variables">2.10. Appending/concatenating variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#command-vs-command">2.11. <code class="docutils literal"><span class="pre">command</span></code> vs $(command)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#variable-name-convention">2.12. variable name convention</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#how-to-expand-tilde">2.13. How to expand ~ (tilde)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#create-directory-if-it-doesn-t-exist-06-14-2016-00-17">2.14. Create directory if it doesn&#8217;t exist 06-14-2016 (00:17)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#vs-in-arrays">2.15. [&#64;] vs [*] in arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#id1">2.16. 1&gt;&amp;2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#if-statements-and-test-conditions">2.17. if statements and test conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#argh-can-t-comment-over-line-breaks">2.18. argh...can&#8217;t comment over line breaks....</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-bash-scripts.html#get-directory-of-running-bash-script">2.19. get directory of running bash script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-qsubber.html">3. qsubber</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-qsubber.html#qsub-helper">3.1. qsub helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-qsubber.html#qsub-helper-old-pre-april-2016">3.2. qsub helper (old, pre April 2016</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-qsubber.html#a-3-step-receipe-for-matlab">3.2.1. A 3 step receipe for matlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-qsubber.html#memrec-to-evaluate-appropriate-h-vmem-value">3.2.2. <code class="docutils literal"><span class="pre">memrec</span></code> (to evaluate appropriate <code class="docutils literal"><span class="pre">h_vmem</span></code> value</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-qsubber.html#qstat">3.2.3. <code class="docutils literal"><span class="pre">qstat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-qsubber.html#usr-bin-time-to-see-multithreaded-or-not">3.2.4. <code class="docutils literal"><span class="pre">/usr/bin/time</span></code> to see multithreaded or not</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-git.html">4. git-snippet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-git.html#stackoverflows">4.1. Stackoverflows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../top-unix.html">Unix utilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cs-sed.html">1. sed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#random-snippets">1.1. Random snippets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#sed-help">1.2. sed &#8211;help</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#substitution-basics">1.3. Substitution basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#the-e-f-options">1.4. the -e, -f options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#deletion-commands">1.5. deletion commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#range-options">1.6. Range options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#fixname-sh">1.7. fixname.sh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed.html#output-from-man-page">1.8. output from man page</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-sed-oneliners.html">2. sed oneliners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#sed-help">2.1. sed &#8211;help</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#typical-use">2.2. Typical use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#file-spacing">2.3. FILE SPACING:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#numbering">2.4. NUMBERING:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#text-conversion-and-substitution">2.5. TEXT CONVERSION AND SUBSTITUTION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#selective-printing-of-certain-lines">2.6. SELECTIVE PRINTING OF CERTAIN LINES:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#selective-deletion-of-certain-lines">2.7. SELECTIVE DELETION OF CERTAIN LINES:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#special-applications">2.8. SPECIAL APPLICATIONS:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-sed-oneliners.html#misc">2.9. Misc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sed-tutorial/index.html">3. Sed tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cs-awk.html">4. awk</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk.html#note-do-i-really-need-awk">4.1. note: do I really need awk?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk.html#my-use-case-for-awk-for-files-containing-columns-fields">4.2. My use-case for awk (for files containing columns/fields)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk.html#random-snippets">4.3. Random snippets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk.html#awk-one-liners">4.4. awk (one-liners)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-awk.html#great-examples-here">4.4.1. Great examples here!</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk.html#awk-help">4.5. awk &#8211;help</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-awk-oneliners.html">5. awk-oneliners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#file-spacing">5.1. File spacing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#numbering-and-calculations">5.2. NUMBERING AND CALCULATIONS:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#string-creation">5.3. STRING CREATION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#array-creation">5.4. ARRAY CREATION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#text-conversion-and-substitution">5.5. TEXT CONVERSION AND SUBSTITUTION:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#selective-printing-of-certain-lines">5.6. SELECTIVE PRINTING OF CERTAIN LINES:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-awk-oneliners.html#selective-deletion-of-certain-lines">5.7. SELECTIVE DELETION OF CERTAIN LINES:</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">6. awk-tutorial</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="awk-basic-structure.html">6.1. Basic structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="awk-essential-syntax.html">6.2. The Essential Syntax of AWK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="awk-essential-syntax.html#unary-arithmetic-operators">6.2.1. Unary arithmetic operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-essential-syntax.html#the-autoincrement-and-autodecrement-operators">6.2.2. The Autoincrement and Autodecrement Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-essential-syntax.html#assignment-operators">6.2.3. Assignment Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-essential-syntax.html#conditional-expressions">6.2.4. Conditional expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-essential-syntax.html#regular-expressions">6.2.5. Regular Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="awk-essential-syntax.html#and-or-not">6.2.6. And/Or/Not</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="awk-summary-commands.html">6.3. Summary of AWK Commands</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">6.4. AWK Built-in Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fs-the-input-field-separator-variable">6.4.1. FS - The Input Field Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ofs-the-output-field-separator-variable">6.4.2. OFS - The Output Field Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nf-the-number-of-fields-variable">6.4.3. NF - The Number of Fields Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nr-the-number-of-records-variable">6.4.4. NR - The Number of Records Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rs-the-record-separator-variable">6.4.5. RS - The Record Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ors-the-output-record-separator-variable">6.4.6. ORS - The Output Record Separator Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filename-the-current-filename-variable">6.4.7. FILENAME - The Current Filename Variable</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../top-misc.html">Miscellaneous</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cs-rst.html">rst</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst.html#csv-demo">csv-demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst.html#lookups">Lookups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst.html#tutorials">Tutorials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst.html#header-convention-me">header convention (me)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst.html#sphinx-based">Sphinx-based</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst.html#autodoc">autodoc</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst.html#id1">Lookups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst.html#references-for-rst-in-general-non-sphinx">References for rst in general (non-sphinx)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst.html#autodoc-related">Autodoc related</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cs-rst-old.html">rst cheatsheet (old)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst-old.html#directives-i-found-useful-or-runs-on-github">DIRECTIVES I FOUND USEFUL OR RUNS ON GITHUB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#image">.. image::</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#code-use-with-number-lines-option">.. code:: (use with <code class="docutils literal"><span class="pre">:number-lines:</span></code> option)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#table">.. table::</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#csv-table">.. csv-table::</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#contents">.. contents::</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#sectnum-works-but-warning-seem-to-screw-up-the-toc-link">.. sectnum:: ...works....but <strong>WARNING!</strong> - seem to screw up the TOC link</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#header-and-footer">.. header:: (and .. footer::)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#sadly-math-doesn-t-render-on-github-works-on-bitbucket">Sadly <code class="docutils literal"><span class="pre">..</span> <span class="pre">math::</span></code> doesn&#8217;t render on github (works on bitbucket)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#replace">.. replace::</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#unicode">.. unicode::</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#date">..date::</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst-old.html#list-of-gotcha-s-to-watch-out-for-at-least-the-ones-i-suffered-from">List of <strong>GOTCHA&#8217;s</strong> to watch out for (at least the ones I suffered from...)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#gotcha-s-with-nested-list-items">Gotcha&#8217;s with nested list items</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#id1">Sadly <code class="docutils literal"><span class="pre">..</span> <span class="pre">math::</span></code> doesn&#8217;t render on github (works on bitbucket)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#gotcha-s-with-contents">GOTCHA&#8217;s with <code class="docutils literal"><span class="pre">..</span> <span class="pre">contents::</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#h1-h2-problems"><code class="docutils literal"><span class="pre">h1</span></code> <code class="docutils literal"><span class="pre">h2</span></code> ... problems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#including-styles-on-header-names-will-break-the-toc-link-on-github-unconfirmed">Including styles on HEADER-NAMES will break the TOC link on github (unconfirmed)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#directives-that-just-doesnt-work-on-github-or-sublime-text">Directives that just doesnt work on github or Sublime Text</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#some-special-characters-that-may-be-a-head-ache-to-print">Some special characters that may be a head-ache to print</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cs-rst-old.html#roles-in-rst"><code class="docutils literal"><span class="pre">roles</span></code> in RST</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#list-of-equivalent-roles-ultra-incomplete">List of equivalent <code class="docutils literal"><span class="pre">roles</span></code> (ultra-incomplete)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cs-rst-old.html#some-interesting-looking-roles">Some interesting looking <code class="docutils literal"><span class="pre">roles</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configs/top-configs.html">configs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configs/configs.python.html">1. configs.python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configs/configs.python.html#ipython">1.1. ipython</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configs/configs.gitconfig.html">2. configs.gitconfig</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configs/configs.gitconfig.html#sbia-office-computer">2.1. SBIA office computer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configs/configs.bashrc.html">3. configs.bashrc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configs/configs.bashrc.html#my-current-bashrc-file-in-my-office">3.1. My current .bashrc file in my office</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configs/configs.bashrc.html#my-current-bashrc-file-in-cygwin">3.2. My current .bashrc file in cygwin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configs/configs.bashrc.html#my-current-bash-aliases-file-in-cygwin">3.3. My current .bash_aliases file in cygwin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configs/configs.sublime.html">4. configs.sublime</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configs/sublime/sublime.sbia.setup.html">4.1. SBIA Workstation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.sbia.setup.html#file-tree">4.1.1. File-tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.sbia.setup.html#symbolic-links-created">4.1.2. Symbolic links created</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.sbia.setup.html#preferences-sublime-settings-content">4.1.3. Preferences.sublime-settings Content</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.sbia.setup.html#default-linux-sublime-keymap-content">4.1.4. Default (Linux).sublime-keymap Content</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configs/sublime/sublime.windows.setup.html">4.2. Windows setup (todo)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configs/sublime/sublime.references.html">4.3. Sublime-Text References</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.references.html#scope-info-for-snippets-and-build-system">4.3.1. Scope info (for snippets and build system)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.references.html#build-system-info">4.3.2. Build system info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configs/sublime/sublime.references.html#when-sublime-keeps-crashing-at-startup">4.3.3. When sublime keeps crashing at startup...</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Snippets</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../top-unix.html">Unix utilities</a> &raquo;</li>
        
          <li><a href="index.html">6. awk-tutorial</a> &raquo;</li>
        
      <li>6.4. AWK Built-in Variables</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/awk-tutorial/awk-builtin-vars.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="awk-built-in-variables">
<h1>6.4. AWK Built-in Variables<a class="headerlink" href="#awk-built-in-variables" title="Permalink to this headline">Â¶</a></h1>
<p>I have mentioned two kinds of variables: positional and user defined. A user defined variable is one you create. A positional variable is not a special variable, but a function triggered by the dollar sign. Therefore</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>print <span class="nv">$1</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>and</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">X</span><span class="o">=</span>1<span class="p">;</span>
print <span class="nv">$X</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>do the same thing: print the first field on the line. There are two more points about positional variables that are very useful. The variable &#8220;$0&#8221; refers to the entire line that AWK reads in. That is, if you had eight fields in a line,</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>print <span class="nv">$0</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>is similar to</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>print <span class="nv">$1</span>, <span class="nv">$2</span>, <span class="nv">$3</span>, <span class="nv">$4</span>, <span class="nv">$5</span>, <span class="nv">$6</span>, <span class="nv">$7</span>, <span class="nv">$8</span>
</pre></div>
</td></tr></table></div>
<p>This will change the spacing between the fields; otherwise, they behave the same. You can modify positional variables. The following commands</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">$2</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
print<span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>deletes the second field. If you had four fields, and wanted to print out the second and fourth field, there are two ways. This is the first:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    <span class="nv">$1</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="nv">$3</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
    print<span class="p">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>and the second</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    print <span class="nv">$2</span>, <span class="nv">$4</span><span class="p">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>These perform similarly, but not identically. The number of spaces between the values vary. There are two reasons for this. The actual number of fields does not change. Setting a positional variable to an empty string does not delete the variable. It&#8217;s still there, but the contents has been deleted. The other reason is the way AWK outputs the entire line. There is a field separator that specifies what character to put between the fields on output. The first example outputs four fields, while the second outputs two. In-between each field is a space. This is easier to explain if the characters between fields could be modified to be made more visible. Well, it can. AWK provides special variables for just that purpose.</p>
<div class="section" id="fs-the-input-field-separator-variable">
<h2>6.4.1. FS - The Input Field Separator Variable<a class="headerlink" href="#fs-the-input-field-separator-variable" title="Permalink to this headline">Â¶</a></h2>
<p>AWK can be used to parse many system administration files. However, many of these files do not have whitespace as a separator. as an example, the password file uses colons. You can easily change the field separator character to be a colon using the &#8220;-F&#8221; command line option. The following command will print out accounts that don&#8217;t have passwords:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>awk -F: <span class="s1">&#39;{if ($2 == &quot;&quot;) print $1 &quot;: no password!&quot;}&#39;</span> &lt;/etc/passwd
</pre></div>
</td></tr></table></div>
<p>There is a way to do this without the command line option. The variable &#8220;FS&#8221; can be set like any variable, and has the same function as the &#8220;-F&#8221; command line option. The following is a script that has the same function as the one above.</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
BEGIN <span class="o">{</span>
    <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">;</span>
<span class="o">}</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span> <span class="nv">$2</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="o">)</span> <span class="o">{</span>
        print <span class="nv">$1</span> <span class="s2">&quot;: no password!&quot;</span><span class="p">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_nopasswd.awk">http://www.grymoire.com/Unix/Scripts/awk_nopasswd.awk</a></p>
<p>The second form can be used to create a UNIX utility, which I will name &#8220;chkpasswd&#8221;, and executed like this:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>chkpasswd &lt;/etc/passwd
</pre></div>
</td></tr></table></div>
<p>The command &#8220;chkpasswd -F:&#8221; cannot be used, because AWK will never see this argument. All interpreter scripts accept one and only one argument, which is immediately after the &#8220;#!/bin/awk&#8221; string. In this case, the single argument is &#8220;-f&#8221;. Another difference between the command line option and the internal variable is the ability to set the input field separator to be more than one character. If you specify</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;: &quot;</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
<p>then AWK will split a line into fields wherever it sees those two characters, in that exact order. You cannot do this on the command line.</p>
<p>There is a third advantage the internal variable has over the command line option: you can change the field separator character as many times as you want while reading a file. Well, at most once for each line. You can even change it depending on the line you read. Suppose you had the following file which contains the numbers 1 through 7 in three different formats. Lines 4 through 6 have colon separated fields, while the others separated by spaces.</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span>ONE <span class="m">1</span> I
TWO <span class="m">2</span> II
<span class="c1">#START</span>
THREE:3:III
FOUR:4:IV
FIVE:5:V
<span class="c1">#STOP</span>
SIX <span class="m">6</span> VI
SEVEN <span class="m">7</span> VII
</pre></div>
</td></tr></table></div>
<p>The AWK program can easily switch between these formats:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="nv">$1</span> <span class="o">==</span> <span class="s2">&quot;#START&quot;</span><span class="o">)</span> <span class="o">{</span>
        <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nv">$1</span> <span class="o">==</span> <span class="s2">&quot;#STOP&quot;</span><span class="o">)</span> <span class="o">{</span>
        <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="c1">#print the Roman number in column 3</span>
        print <span class="nv">$3</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example3.awk">http://www.grymoire.com/Unix/Scripts/awk_example3.awk</a></p>
<p>Note the field separator variable retains its value until it is explicitly changed. You don&#8217;t have to reset it for each line. Sounds simple, right? However, I have a trick question for you. What happens if you change the field separator while reading a line? That is, suppose you had the following line</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>One Two:Three:4 Five
</pre></div>
</td></tr></table></div>
<p>and you executed the following script:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    print <span class="nv">$2</span>
    <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span>
    print <span class="nv">$2</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>What would be printed? &#8220;Three&#8221; or &#8220;Two:Three:4?&#8221; Well, the script would print out &#8220;Two:Three:4&#8221; twice. However, if you deleted the first print statement, it would print out &#8220;Three&#8221; once! I thought this was very strange at first, but after pulling out some hair, kicking the deck, and yelling at muself and everyone who had anything to do with the development of UNIX, it is intuitively obvious. You just have to be thinking like a professional programmer to realize it is intuitive. I shall explain, and prevent you from causing yourself physical harm.</p>
<p>If you change the field separator before you read the line, the change affects what you read. If you change it after you read the line, it will not redefine the variables. You wouldn&#8217;t want a variable to change on you as a side-effect of another action. A programming language with hidden side effects is broken, and should not be trusted. AWK allows you to redefine the field separator either before or after you read the line, and does the right thing each time. Once you read the variable, the variable will not change unless you change it. Bravo!</p>
<p>To illustrate this further, here is another version of the previous code that changes the field separator dynamically. In this case, AWK does it by examining field &#8220;$0&#8221;, which is the entire line. When the line contains a colon, the field separator is a colon, otherwise, it is a space. Here is a version that worked with older versions of awk:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span> <span class="nv">$0</span> ~ /:/ <span class="o">)</span> <span class="o">{</span>
        <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">;</span>
    <span class="o">}</span>
    <span class="c1">#print the third field, whatever format</span>
    print <span class="nv">$3</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example4.awk">http://www.grymoire.com/Unix/Scripts/awk_example4.awk</a></p>
<p>However, this behavior changed in later versions, so the above script no longer works. What happens is that once the FS variable is changed, you have to re-evaluate the fields by using $0=$0:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span> <span class="nv">$0</span> ~ /:/ <span class="o">)</span> <span class="o">{</span>
        <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">;</span>
        <span class="nv">$0</span><span class="o">=</span><span class="nv">$0</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">;</span>
        <span class="nv">$0</span><span class="o">=</span><span class="nv">$0</span>
    <span class="o">}</span>
    <span class="c1">#print the third field, whatever format</span>
    print <span class="nv">$3</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example4a.awk">http://www.grymoire.com/Unix/Scripts/awk_example4a.awk</a></p>
<p>This example eliminates the need to have the special &#8220;#START&#8221; and &#8220;#STOP&#8221; lines in the input.</p>
</div>
<div class="section" id="ofs-the-output-field-separator-variable">
<h2>6.4.2. OFS - The Output Field Separator Variable<a class="headerlink" href="#ofs-the-output-field-separator-variable" title="Permalink to this headline">Â¶</a></h2>
<p>There is an important difference between</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>print <span class="nv">$2</span> <span class="nv">$3</span>
</pre></div>
</td></tr></table></div>
<p>and</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>print <span class="nv">$2</span>, <span class="nv">$3</span>
</pre></div>
</td></tr></table></div>
<p>The first example prints out one field, and the second prints out two fields. In the first case, the two positional parameters are concatenated together and output without a space. In the second case, AWK prints two fields, and places the output field separator between them. Normally this is a space, but you can change this by modifying the variable &#8220;OFS&#8221;.</p>
<p>If you wanted to copy the password file, but delete the encrypted password, you could use AWK:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
BEGIN <span class="o">{</span>
    <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">;</span>
    <span class="nv">OFS</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">;</span>
<span class="o">}</span>
<span class="o">{</span>
    <span class="nv">$2</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
    print
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/delete_passwd.awk">http://www.grymoire.com/Unix/Scripts/delete_passwd.awk</a></p>
<p>Give this script the password file, and it will delete the password, but leave everything else the same. You can make the output field separator any number of characters. You are not limited to a single character.</p>
</div>
<div class="section" id="nf-the-number-of-fields-variable">
<h2>6.4.3. NF - The Number of Fields Variable<a class="headerlink" href="#nf-the-number-of-fields-variable" title="Permalink to this headline">Â¶</a></h2>
<p>It is useful to know how many fields are on a line. You may want to have your script change its operation based on the number of fields. As an example, the command &#8220;ls -l&#8221; may generate eight or nine fields, depending on which version you are executing. The System V version, &#8220;/usr/bin/ls -l&#8221; generates nine fields, which is equivalent to the Berkeley &#8220;/usr/ucb/ls -lg&#8221; command. If you wanted to print the owner and filename then the following AWK script would work with either version of &#8220;ls:&#8221;</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="c1"># parse the output of &quot;ls -l&quot;</span>
<span class="c1"># print owner and filename</span>
<span class="c1"># remember - Berkeley ls -l has 8 fields, System V has 9</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="nv">NF</span> <span class="o">==</span> 8<span class="o">)</span> <span class="o">{</span>
        print <span class="nv">$3</span>, <span class="nv">$8</span><span class="p">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="nv">NF</span> <span class="o">==</span> 9<span class="o">)</span> <span class="o">{</span>
        print <span class="nv">$3</span>, <span class="nv">$9</span><span class="p">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/owner_group.awk">http://www.grymoire.com/Unix/Scripts/owner_group.awk</a></p>
<p>Don&#8217;t forget the variable can be prepended with a &#8220;$&#8221;. This allows you to print the last field of any column</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span> print <span class="nv">$NF</span><span class="p">;</span> <span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/print_last_field.awk">http://www.grymoire.com/Unix/Scripts/print_last_field.awk</a></p>
<p>One warning about AWK. There is a limit of 99 fields in a single line. PERL does not have any such limitations.</p>
</div>
<div class="section" id="nr-the-number-of-records-variable">
<h2>6.4.4. NR - The Number of Records Variable<a class="headerlink" href="#nr-the-number-of-records-variable" title="Permalink to this headline">Â¶</a></h2>
<p>Another useful variable is &#8220;NR&#8221;. This tells you the number of records, or the line number. You can use AWK to only examine certain lines. This example prints lines after the first 100 lines, and puts a line number before each line after 100:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="k">if</span> <span class="o">(</span>NR &gt; 100<span class="o">)</span> <span class="o">{</span>
    print NR, <span class="nv">$0</span><span class="p">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click link to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example5.awk">awk_example5.awk</a></p>
</div>
<div class="section" id="rs-the-record-separator-variable">
<h2>6.4.5. RS - The Record Separator Variable<a class="headerlink" href="#rs-the-record-separator-variable" title="Permalink to this headline">Â¶</a></h2>
<p>Normally, AWK reads one line at a time, and breaks up the line into fields. You can set the &#8220;RS&#8221; variable to change AWK&#8217;s definition of a &#8220;line&#8221;. If you set it to an empty string, then AWK will read the entire file into memory. You can combine this with changing the &#8220;FS&#8221; variable. This example treats each line as a field, and prints out the second and third line:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
BEGIN <span class="o">{</span>
<span class="c1"># change the record separator from newline to nothing</span>
    <span class="nv">RS</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="c1"># change the field separator from whitespace to newline</span>
    <span class="nv">FS</span><span class="o">=</span><span class="s2">&quot;\n&quot;</span>
<span class="o">}</span>
<span class="o">{</span>
<span class="c1"># print the second and third line of the file</span>
    print <span class="nv">$2</span>, <span class="nv">$3</span><span class="p">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example6.awk">http://www.grymoire.com/Unix/Scripts/awk_example6.awk</a></p>
<p>The two lines are printed with a space between. Also this will only work if the input file is less than 100 lines, therefore this technique is limited. You can use it to break words up, one word per line, using this:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
BEGIN <span class="o">{</span>
    <span class="nv">RS</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">;</span>
<span class="o">}</span>
<span class="o">{</span>
    print <span class="p">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/oneword_per_line.awk">http://www.grymoire.com/Unix/Scripts/oneword_per_line.awk</a></p>
<p>but this only works if all of the words are separated by a space. If there is a tab or punctuation inside, it would not.</p>
</div>
<div class="section" id="ors-the-output-record-separator-variable">
<h2>6.4.6. ORS - The Output Record Separator Variable<a class="headerlink" href="#ors-the-output-record-separator-variable" title="Permalink to this headline">Â¶</a></h2>
<p>The default output record separator is a newline, like the input. This can be set to be a newline and carriage return, if you need to generate a text file for a non-UNIX system.</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="c1"># this filter adds a carriage return to all lines</span>
<span class="c1"># before the newline character</span>
BEGIN <span class="o">{</span>
    <span class="nv">ORS</span><span class="o">=</span><span class="s2">&quot;\r\n&quot;</span>
<span class="o">}</span>
<span class="o">{</span> print <span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/add_cr.awk">http://www.grymoire.com/Unix/Scripts/add_cr.awk</a></p>
</div>
<div class="section" id="filename-the-current-filename-variable">
<h2>6.4.7. FILENAME - The Current Filename Variable<a class="headerlink" href="#filename-the-current-filename-variable" title="Permalink to this headline">Â¶</a></h2>
<p>The last variable known to regular AWK is &#8220;FILENAME&#8221;, which tells you the name of the file being read.</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="c1"># reports which file is being read</span>
BEGIN <span class="o">{</span>
    <span class="nv">f</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="o">}</span>
<span class="o">{</span>   <span class="k">if</span> <span class="o">(</span>f !<span class="o">=</span> FILENAME<span class="o">)</span> <span class="o">{</span>
        print <span class="s2">&quot;reading&quot;</span>, FILENAME<span class="p">;</span>
        <span class="nv">f</span><span class="o">=</span>FILENAME<span class="p">;</span>
    <span class="o">}</span>
    print<span class="p">;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example6a.awk">http://www.grymoire.com/Unix/Scripts/awk_example6a.awk</a></p>
<p>This can be used if several files need to be parsed by AWK. Normally you use standard input to provide AWK with information. You can also specify the filenames on the command line. If the above script was called &#8220;testfilter&#8221;, and if you executed it with</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>testfilter file1 file2 file3
</pre></div>
</td></tr></table></div>
<p>It would print out the filename before each change. An alternate way to specify this on the command line is</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>testfilter file1 - file3 &lt;file2
</pre></div>
</td></tr></table></div>
<p>In this case, the second file will be called &#8220;-&#8221;, which is the conventional name for standard input. I have used this when I want to put some information before and after a filter operation. The prefix and postfix files special data before and after the real data. By checking the filename, you can parse the information differently. This is also useful to report syntax errors in particular files:</p>
<div class="highlight-bash"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/awk -f</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="nv">NF</span> <span class="o">==</span> 6<span class="o">)</span> <span class="o">{</span>
        <span class="c1"># do the right thing</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="nv">FILENAME</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span> <span class="o">)</span> <span class="o">{</span>
            print <span class="s2">&quot;SYNTAX ERROR, Wrong number of fields,&quot;</span>,
            <span class="s2">&quot;in STDIN, line #:&quot;</span>, NR,  <span class="s2">&quot;line: &quot;</span>, <span class="nv">$0</span><span class="p">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            print <span class="s2">&quot;SYNTAX ERROR, Wrong number of fields,&quot;</span>,
            <span class="s2">&quot;Filename: &quot;</span>, FILENAME, <span class="s2">&quot;line # &quot;</span>, NR, <span class="s2">&quot;line: &quot;</span>, <span class="nv">$0</span><span class="p">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>Click here to get file: <a class="reference external" href="http://www.grymoire.com/Unix/Scripts/awk_example7.awk">http://www.grymoire.com/Unix/Scripts/awk_example7.awk</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../top-misc.html" class="btn btn-neutral float-right" title="Miscellaneous" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="awk-summary-commands.html" class="btn btn-neutral" title="6.3. Summary of AWK Commands" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Takanori Watanabe.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>